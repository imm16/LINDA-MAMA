<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Nutrition</title>
</head>
<style>
    body{
        font-family: Arial, Helvetica, sans-serif;
    }
</style>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-primary text-white px-3">
        <div class="container-fluid">
            <!-- Profile Icon on the Left -->
            <a class="navbar-brand text-white d-flex align-items-center" href="#">
                <img src="{{ url_for('static', filename='images/profile.png') }}" alt="Profile"
                    class="rounded-circle me-2" width="40" height="40">
            </a>

            <!-- Dropdown Menu on the Right -->
            <div class="dropdown ms-auto">
                <button class="btn text-white dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    ‚ò∞
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="dashboard.html">Dashboard</a></li>
                    <li><a class="dropdown-item" href="profile.html">Profile & Settings</a></li>
                    <li><a class="dropdown-item" href="tracker.html">Pregnancy Tracker & Health Monitoring</a></li>
                    <li><a class="dropdown-item" href="mealplan.html">Meal Plan, Nutrition & Mental health</a></li>
                    <li><a class="dropdown-item" href="comm_and_support.html">Community & Support</a></li>
                    <li><a class="dropdown-item" href="emergency.html">Emergency Contacts</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item text-danger" href="logout.html">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="row">
            <!-- Left Column: Recommended Exercises -->
            <div class="col-md-6">
                <h2 class="text-center mb-4">ü§∞ Recommended Exercises</h2>
                <div id="exerciseCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="Images/low-angle-woman-doing-sport.jpg" class="d-block w-100 rounded"
                                alt="Walking Exercise">
                            <div class="carousel-caption d-md-block text-dark bg-light p-2 rounded">
                                <h5>Walking/Running</h5>
                                <p>Helps with circulation and keeps you active.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="Images/full-shot-pregnant-woman-doing-sport.jpg" class="d-block w-100 rounded"
                                alt="Prenatal Yoga">
                            <div class="carousel-caption d-md-block text-dark bg-light p-2 rounded">
                                <h5>Prenatal Yoga</h5>
                                <p>Improves flexibility and reduces stress.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="Images/medium-shot-pregnant-woman-seaside.jpg" class="d-block w-100 rounded"
                                alt="Swimming">
                            <div class="carousel-caption d-md-block text-dark bg-light p-2 rounded">
                                <h5>Swimming</h5>
                                <p>Relieves joint pressure and improves stamina.</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#exerciseCarousel"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#exerciseCarousel"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </button>
                </div>
            </div>

            <!-- Right Column: Progress Tracker & Safety Guidelines -->
            <div class="col-md-6">
                <!-- Progress Tracker -->
                <h2 class="text-center">üìä Progress Tracker</h2>
                <form id="exerciseForm" class="mt-3">
                    <div class="mb-3">
                        <label for="exerciseType" class="form-label">Exercise Type:</label>
                        <input type="text" class="form-control" id="exerciseType" placeholder="E.g., Walking, Yoga">
                    </div>
                    <div class="mb-3">
                        <label for="duration" class="form-label">Duration (minutes):</label>
                        <input type="number" class="form-control" id="duration" placeholder="Enter duration">
                    </div>
                    <button type="submit" class="btn btn-danger w-100">Log Exercise</button>
                </form>

                <div class="mt-4">
                    <h5>Your Progress (Goal: 150 min/week)</h5>
                    <div class="progress">
                        <div id="progressBar" class="progress-bar progress-bar-striped bg-success" role="progressbar"
                            style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                    </div>
                    <p class="mt-2" id="progressText">0 minutes logged.</p>
                </div>

                <!-- Safety Guidelines -->
                <h2 class="text-center mt-4">‚ö†Ô∏è Safety Guidelines</h2>
                <div class="accordion mt-3" id="safetyAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne">
                                Avoid Lying on Your Back
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show"
                            data-bs-parent="#safetyAccordion">
                            <div class="accordion-body">
                                Lying flat after the first trimester can reduce blood flow to your baby.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo">
                                Stay Hydrated
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#safetyAccordion">
                            <div class="accordion-body">
                                Drink plenty of water before, during, and after exercise.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseThree">
                                Stop if You Feel Dizzy
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#safetyAccordion">
                            <div class="accordion-body">
                                If you experience dizziness, chest pain, or contractions, stop immediately and consult
                                your doctor.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Guided Breathing Exercise -->
    <div class="mt-5 text-center">
        <h2>üßò Guided Breathing Exercise</h2>
        <p>Follow the instructions to relax and reduce stress.</p>

        <div id="breathingCircle" class="rounded-circle bg-primary d-flex align-items-center justify-content-center"
            style="width: 150px; height: 150px; color: white; font-size: 20px; margin: auto;">
            Start
        </div>

        <button id="startBreathing" class="btn btn-success mt-3">Start Breathing Exercise</button>
    </div>

    <!-- Javascript Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

    <script>
        let totalExerciseMinutes = 0;
        const weeklyGoal = 150; // Set weekly exercise goal in minutes
        const progressBar = document.getElementById("progressBar");
        const progressText = document.getElementById("progressText");
        const exerciseForm = document.getElementById("exerciseForm");

        exerciseForm.addEventListener("submit", function (event) {
            event.preventDefault();
            let minutes = parseInt(document.getElementById("duration").value);

            if (!isNaN(minutes) && minutes > 0) {
                totalExerciseMinutes += minutes;
                let progressPercent = Math.min((totalExerciseMinutes / weeklyGoal) * 100, 100);

                // Update Progress Bar
                progressBar.style.width = progressPercent + "%";
                progressBar.setAttribute("aria-valuenow", progressPercent);
                progressBar.innerText = Math.round(progressPercent) + "%";

                // Update Progress Text
                progressText.innerText = `${totalExerciseMinutes} minutes logged.`;

                // Reset Form
                document.getElementById("exerciseType").value = "";
                document.getElementById("duration").value = "";
            } else {
                alert("Please enter a valid number of minutes.");
            }
        });
    </script>
    <script>
        document.getElementById("startBreathing").addEventListener("click", function () {
            const breathingCircle = document.getElementById("breathingCircle");
            const cycle = ["Inhale", "Hold", "Exhale"];
            let index = 0;

            function updateBreathing() {
                breathingCircle.innerText = cycle[index];
                breathingCircle.style.transform = index === 0 ? "scale(1.2)" : index === 2 ? "scale(0.8)" : "scale(1)";
                index = (index + 1) % cycle.length;
            }

            updateBreathing();
            setInterval(updateBreathing, 4000);
        });
    </script>
</body>

</html>